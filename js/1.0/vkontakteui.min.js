/*
 * VKontakte UI Framework, version 1.0
 * Last update: 11.04.2011
 *
 * Author: Konstantin Babushkin
 */

typeof VK=="undefined"&&(VK={});VK._ui={require:function(b,d){if(typeof d=="object"||typeof d=="array")for(var e in d)VK._ui.require(b,d[e]);else req=document.createElement(b),req[b=="script"?"type":"rel"]=b=="script"?"text/javascript":"stylesheet",req[b=="script"?"src":"href"]=d,document.getElementsByTagName("head")[0].insertBefore(req,document.getElementsByTagName("head")[0].firstChild)},box:{},size:{},drop:{},check:{},radio:{},date:{}}; (function(){try{VK._ui.require("script",["http://vk.com/js/common.js","http://vk.com/js/lib/ui_controls.js","http://vk.com/js/al/datepicker.js"]),VK._ui.require("link",["http://vk.com/css/al/datepicker.css","http://vk.com/css/ui_controls.css","http://vk.com/css/al/common.css","http://vk.com/css/rustyle.css"]),document.getElementsByTagName("body")[0].insertBefore('<div id="box_layer_bg" class="fixed"></div><div id="box_layer_wrap" class="scroll_fix_wrap fixed"><div id="box_layer"></div></div>',document.getElementsByTagName("body")[0].firstChild)}finally{return!1}})(); VK.box=function(b,d,e,c,f,g,j){if(b&&typeof d=="boolean"&&VK._ui.box[b])d===!0?VK._ui.box[b].show():VK._ui.box[b].hide();else{VK._ui.box[b]=(new MessageBox({title:d,width:e})).removeButtons();for(i=0;i<f.length;i++)VK._ui.box[b].addButton({style:"button_"+f[i].style.toString(),label:f[i].label,onClick:f[i].onClick});if(typeof g=="object")for(var h in g)VK._ui.boxOptions={},VK._ui.boxOptions[h]=g[h],VK._ui.box[b].setOptions(VK._ui.boxOptions);if(typeof c=="object"||typeof c=="array"){VK._ui.box["c_"+ b]=c[0]+(c[1]?"?":"");if(c[1])for(h in c[1])VK._ui.box["c_"+b]+=h+"="+c[1][h]+"&";VK._ui.box[b].loadContent(VK._ui.box["c_"+b].slice(0,-1),0,!0)}else typeof c=="string"&&VK._ui.box[b].content(c);VK._ui.box[b].show();typeof g.callback=="function"&&(VK._ui.box["i_"+b]=setInterval(function(){geByClass("message_box")[0]&&(clearInterval(VK._ui.box["i_"+b]),g.callback())},200));j&&(VK.addCallback("onScrollTop",function(b){geByClass("message_box")[0].style.top=(b>150?b:150)+"px"}),VK.callMethod("scrollTop"))}}; VK.size=function(b,d,e){if(d)ge(b).style.width=d;VK._ui.size[b]=new Autosize(ge(b),e)};VK.drop=function(b,d,e,c){c||(c={});c.width=d;VK._ui.drop[b]=new Dropdown(ge(b),e,c)};VK.auto=function(b,d,e,c){c||(c={});extend(c,{autocomplete:!0,width:d});VK._ui.drop[b]=new Autocomplete(ge(b),e,c)}; VK.check=function(b,d,e,c,f,g){if((VK._ui.check[b]||typeof b=="object"||typeof b=="array")&&typeof d=="boolean")if(typeof b=="object"||typeof b=="array")for(a=0;a<b.length;a++)VK.check(b[a],d);else for(i=0;i<geByClass("checkbox_container").length;i++){if(VK._ui.check["l_"+b]=geByClass("checkbox_container")[i],VK._ui.check["l_"+b].innerHTML.match(/id=('|"|)(.[^"']*)('|"|\s)/)[2]===b)VK._ui.check["l_"+b].style.display=d==!0?"block":"none"}else{if(c)ge(b).value=1;f||(f={});f.label=d;f.width=e;VK._ui.check[b]= new Checkbox(ge(b),f);typeof g=="boolean"&&VK.check(b,g)}}; VK.radio=function(b,d,e,c,f,g){if(b&&typeof d==="undefined")return each(geByClass("radiobtn_container"),function(d,c){if(geByClass("radiobtn_on",c).length)return VK._ui.radio["ch_"+b]=[c.getElementsByTagName("input")[0].value,c.getElementsByTagName("input")[0].id],!1}),VK._ui.radio["ch_"+b];else if((VK._ui.radio[b]||typeof b=="object"||typeof b=="array")&&typeof d=="boolean")if(typeof b=="object"||typeof b=="array")for(a=0;a<b.length;a++)VK.radio(b[a],d);else for(i=0;i<geByClass("radiobtn_container").length;i++){if(VK._ui.radio["l_"+ b]=geByClass("radiobtn_container")[i],VK._ui.radio["l_"+b].innerHTML.match(/id=('|"|)(.[^"']*)('|"|\s)/)[2]===b)VK._ui.radio["l_"+b].style.display=d==!0?"block":"none"}else d==="select"&&ge(b).name&&ge(b).value?Radiobutton.select(ge(b).name,ge(b).value):(f||(f={}),f.label=d,f.width=e,VK._ui.radio[b]=new Radiobutton(ge(b),f),c&&ge(b).name&&ge(b).value&&Radiobutton.select(ge(b).name,ge(b).value),typeof g=="boolean"&&VK.radio(b,g))}; VK.date=function(b,d,e,c){ge(b).value=e?e:Math.round((new Date).getTime()/1E3);c||(c={});c.width=d;VK._ui.date[b]=new Datepicker(b,c)};